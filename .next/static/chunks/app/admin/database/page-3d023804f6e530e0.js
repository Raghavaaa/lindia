(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{3166:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),r=t(2115);function d(){let[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)([]),[c,i]=(0,r.useState)([]),[l,n]=(0,r.useState)(!0),[x,h]=(0,r.useState)("users");async function m(){try{let[e,t,a]=await Promise.all([fetch("/api/admin/users"),fetch("/api/admin/research"),fetch("/api/admin/settings")]);e.ok&&s(await e.json()),t.ok&&d(await t.json()),a.ok&&i(await a.json())}catch(e){console.error("Error fetching data:",e)}finally{n(!1)}}return((0,r.useEffect)(()=>{m()},[]),l)?(0,a.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-10",children:(0,a.jsx)("div",{className:"text-center",children:"Loading database..."})}):(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Database Admin"}),(0,a.jsx)("div",{className:"flex gap-2 p-2 rounded-2xl bg-zinc-50 dark:bg-zinc-900/50 border border-black/5 dark:border-white/10",children:[{key:"users",label:"Users (".concat(e.length,")")},{key:"research",label:"Research (".concat(t.length,")")},{key:"settings",label:"Settings (".concat(c.length,")")}].map(e=>{let{key:s,label:t}=e;return(0,a.jsx)("button",{onClick:()=>h(s),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(x===s?"bg-black text-white dark:bg-white dark:text-black":"bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"),children:t},s)})}),"users"===x&&(0,a.jsxs)("div",{className:"rounded-2xl border border-black/5 dark:border-white/10 bg-white dark:bg-zinc-900 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Users"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-zinc-200 dark:border-zinc-700",children:[(0,a.jsx)("th",{className:"text-left py-2",children:"ID"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Phone"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Created"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-b border-zinc-100 dark:border-zinc-800",children:[(0,a.jsx)("td",{className:"py-2 font-mono text-xs",children:e.id}),(0,a.jsx)("td",{className:"py-2",children:e.name}),(0,a.jsx)("td",{className:"py-2",children:e.email}),(0,a.jsx)("td",{className:"py-2",children:e.phone||"-"}),(0,a.jsx)("td",{className:"py-2 text-xs",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]}),"research"===x&&(0,a.jsxs)("div",{className:"rounded-2xl border border-black/5 dark:border-white/10 bg-white dark:bg-zinc-900 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Research Queries"}),(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-xl border border-black/5 dark:border-white/10 bg-white dark:bg-zinc-800",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.query_text}),(0,a.jsx)("div",{className:"text-xs text-zinc-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400 line-clamp-3",children:e.response_text}),(0,a.jsxs)("div",{className:"text-xs text-zinc-500 mt-2",children:["User ID: ",e.user_id]})]},e.id))})]}),"settings"===x&&(0,a.jsxs)("div",{className:"rounded-2xl border border-black/5 dark:border-white/10 bg-white dark:bg-zinc-900 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Settings"}),(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-xl border border-black/5 dark:border-white/10 bg-white dark:bg-zinc-800",children:[(0,a.jsx)("div",{className:"font-medium",children:e.key}),(0,a.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400 max-w-md truncate",children:e.value})]},e.key))})]})]})}},3620:(e,s,t)=>{Promise.resolve().then(t.bind(t,3166))}},e=>{e.O(0,[441,255,358],()=>e(e.s=3620)),_N_E=e.O()}]);